
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../../../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../../../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../../../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../../../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="#3f51b5">
  <script src="../../../_static/javascripts/modernizr.js"></script>
  
  
  
    <title>Simulating a double pendulum &#8212; THAT docs  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/material.css" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Early electronic analog computers:" href="../../history_first_electronic_analog_computers.html" />
    <link rel="prev" title="The Euler spiral" href="../euler_spiral/alpaca_33.html" />
  
   

  </head>
  <body dir=ltr
        data-md-color-primary=blue data-md-color-accent=light-blue>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#rst/applications/double_pendulum/alpaca_21" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../../index.html" title="THAT docs  documentation"
           class="md-header-nav__button md-logo">
          
            &nbsp;
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">THAT</span>
          <span class="md-header-nav__topic"> Simulating a double pendulum </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="../../../search.html" method="get" name="search">
      <input type="text" class="md-search__input" name="q" placeholder="Search"
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            <a href="https://lab.analogparadigm.com/ulmann/the-analog-thing/-/tree/master/documentation/sphinx" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Gitlab
  </div>
</a>
          </div>
        </div>
      
      
  
  <script src="../../../_static/javascripts/version_dropdown.js"></script>
  <script>
    var json_loc = "../../../"versions.json"",
        target_loc = "../../../../",
        text = "Versions";
    $( document ).ready( add_version_dropdown(json_loc, target_loc, text));
  </script>
  

    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
          <li class="md-tabs__item"><a href="../../../index.html" class="md-tabs__link">THAT docs  documentation</a></li>
            
            <li class="md-tabs__item"><a href="https://the-analog-thing.org/" class="md-tabs__link">THAT Home</a></li>
            
            <li class="md-tabs__item"><a href="https://shop.anabrid.com/" class="md-tabs__link">THAT Shop</a></li>
            
            <li class="md-tabs__item"><a href="https://analogparadigm.com/" class="md-tabs__link">Analog Paradigm</a></li>
            
            <li class="md-tabs__item"><a href="https://anabrid.com/" class="md-tabs__link">Anabrid</a></li>
          <li class="md-tabs__item"><a href="../../applications.html" class="md-tabs__link">&lt;no title&gt;</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../../index.html" title="THAT docs documentation" class="md-nav__button md-logo">
      
        <img src="../../../_static/" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../../../index.html"
       title="THAT docs documentation">THAT</a>
  </label>
    <div class="md-nav__source">
      <a href="https://lab.analogparadigm.com/ulmann/the-analog-thing/-/tree/master/documentation/sphinx" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Gitlab
  </div>
</a>
    </div>
  
  

  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Electrical analog computer basics:</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../../basics_computing_elements.html" class="md-nav__link">Computing elements</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../../basics_operation_modes.html" class="md-nav__link">Operation modes of analog computers</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../../basics_programming.html" class="md-nav__link">Programming analog computers</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../../basics_visualization.html" class="md-nav__link">Visualization of computing results</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../../basics_differential_equations.html" class="md-nav__link">Differential equations</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../../basics_quickstart.html" class="md-nav__link">Quickstart-guide: Damped oszillation</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Applications:</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../roessler_attractor/aplaca_1.html" class="md-nav__link">Rössler-attractor </a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../lorenz/alpaca_2.html" class="md-nav__link">Lorenz-attractor </a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../bouncing_ball/alpaca_5.html" class="md-nav__link">High-speed Bouncing Ball</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../zombies/alpaca_6.html" class="md-nav__link">Zombie Apocalypse Now</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../nonlinear_chaos/alpaca_8.html" class="md-nav__link">Nonlinear chaos</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../mathieu/alpaca_10.html" class="md-nav__link">Mathieu’s equation</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../elegant_chaos/alpaca_15.html" class="md-nav__link">Elegant Chaos</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../hindmash_rose_neuron/spiking_neuron.html" class="md-nav__link">The Hindmash-Rose-model of neuronal bursting</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../sqm_model/alpaca_31.html" class="md-nav__link">Sprott SQM model</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../euler_spiral/alpaca_33.html" class="md-nav__link">The Euler spiral</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    <label class="md-nav__link md-nav__link--active" for="__toc"> Simulating a double pendulum </label>
    
      <a href="#" class="md-nav__link md-nav__link--active">Simulating a double pendulum</a>
      
        
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#rst-applications-double-pendulum-alpaca-21--page-root" class="md-nav__link">Simulating a double pendulum</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#equations-of-motion" class="md-nav__link">Equations of motion</a>
        </li>
        <li class="md-nav__item"><a href="#implementation" class="md-nav__link">Implementation</a>
        </li>
        <li class="md-nav__item"><a href="#results" class="md-nav__link">Results</a>
        </li>
        <li class="md-nav__item"><a href="#references" class="md-nav__link">References</a>
        </li></ul>
            </nav>
        </li>
    
<li class="md-nav__item"><a class="md-nav__extra_link" href="../../../_sources/rst/applications/double_pendulum/alpaca_21.rst.txt">Show Source</a> </li>

  </ul>
</nav>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">History:</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../../history_first_electronic_analog_computers.html" class="md-nav__link">Early electronic analog computers:</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../../history_mechanical_analog_computers.html" class="md-nav__link">Mechanical analog computers</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../../history_system_examples_1950-now.html" class="md-nav__link">Electronic analog computers since 1950</a>
      
    
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#rst-applications-double-pendulum-alpaca-21--page-root" class="md-nav__link">Simulating a double pendulum</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#equations-of-motion" class="md-nav__link">Equations of motion</a>
        </li>
        <li class="md-nav__item"><a href="#implementation" class="md-nav__link">Implementation</a>
        </li>
        <li class="md-nav__item"><a href="#results" class="md-nav__link">Results</a>
        </li>
        <li class="md-nav__item"><a href="#references" class="md-nav__link">References</a>
        </li></ul>
            </nav>
        </li>
    
<li class="md-nav__item"><a class="md-nav__extra_link" href="../../../_sources/rst/applications/double_pendulum/alpaca_21.rst.txt">Show Source</a> </li>

<li id="searchbox" class="md-nav__item"></li>

  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <p><strong>Warning: This simulation requires ten integrators, 15 summers, 16 multipliers, and 17 coefficient potentiometers (-&gt; eight THATs).*</strong></p>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#simulating-a-double-pendulum" id="id3">Simulating a double pendulum</a></p>
<ul>
<li><p><a class="reference internal" href="#equations-of-motion" id="id4">Equations of motion</a></p></li>
<li><p><a class="reference internal" href="#implementation" id="id5">Implementation</a></p></li>
<li><p><a class="reference internal" href="#results" id="id6">Results</a></p></li>
<li><p><a class="reference internal" href="#references" id="id7">References</a></p></li>
</ul>
</li>
</ul>
</div>

<h1 id="rst-applications-double-pendulum-alpaca-21--page-root"><a class="toc-backref" href="#rst-applications-double-pendulum-alpaca-21--page-root">Simulating a double pendulum</a><a class="headerlink" href="#rst-applications-double-pendulum-alpaca-21--page-root" title="Permalink to this headline">¶</a></h1>
<table>
<colgroup>
<col style="width: 100%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><div class="figure align-default">
<a class="reference internal image-reference" href="../../../_images/double_pendulum.jpg"><img alt="../../../_images/double_pendulum.jpg" src="../../../_images/double_pendulum.jpg" style="width: 10cm;"/></a>
</div>
</td>
</tr>
<tr class="row-even"><td><p>Figure 1: Double pendulum</p></td>
</tr>
</tbody>
</table>
<p>This application note describes the simulation of a double pendulum as
shown in figure 1 on an analog computer. <a class="footnote-reference brackets" href="#id2" id="id1">1</a></p>

<h2 id="equations-of-motion"><a class="toc-backref" href="#id4">Equations of motion</a><a class="headerlink" href="#equations-of-motion" title="Permalink to this headline">¶</a></h2>
<p>The equations of motion will be derived by determining the Lagrangian
<span class="math notranslate nohighlight">\(L=T-V\)</span> with the two generalized coordinates <span class="math notranslate nohighlight">\(\varphi_1\)</span> and
<span class="math notranslate nohighlight">\(\varphi_2\)</span> where <span class="math notranslate nohighlight">\(T\)</span> represents the total kinetic energy
while <span class="math notranslate nohighlight">\(V\)</span> is the potential energy of the system. This potential
energy is just</p>
<div class="math notranslate nohighlight" id="equation-01">
<span class="eqno">(1)<a class="headerlink" href="#equation-01" title="Permalink to this equation">¶</a></span>\[V=-g\left((m_1+m_2)l_1\cos(\varphi_1)+m_2l_2\cos(\varphi_2)\right)\label{equ_dp_potential_energy}\]</div>
<p>with <span class="math notranslate nohighlight">\(m_1\)</span> and <span class="math notranslate nohighlight">\(m_2\)</span> representing the masses of the two bobs
mounted on the tips of the two pendulum rods (which are assumed as being
weightless). As always, <span class="math notranslate nohighlight">\(g\)</span> represents the gravitational
acceleration.</p>
<p>To derive the total kinetic energy the positions of the pendulum arm
tips <span class="math notranslate nohighlight">\((x_1,y_1)\)</span> and <span class="math notranslate nohighlight">\((x_2,y_2)\)</span> are required:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{aligned}
    x_1&amp;=l_1\sin(\varphi_1)\\
    y_1&amp;=l_1\cos(\varphi_1)\\
    x_2&amp;=l_1\sin(\varphi_1)+l_2\sin(\varphi_2)\\
    y_2&amp;=l_1\cos(\varphi_1)+l_2\cos(\varphi_2)
  \end{aligned}\end{split}\]</div>
<p>The first derivatives of these with respect to time are</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{aligned}
   \dot{x}_1&amp;=\dot{\varphi}_1l_1\cos(\varphi_1),\\
   \dot{y}_1&amp;=-\dot{\varphi}_1l_1\sin(\varphi_1),\\
   \dot{x}_2&amp;=\dot{\varphi}_1l_1\cos(\varphi_1)+\dot{\varphi}_2l_2\cos(\varphi_2)\text{~and}\\
   \dot{y}_2&amp;=-\dot{\varphi}_1l_1\sin(\varphi_1)-\dot{\varphi}_2l_2\sin{\varphi_2}.
  \end{aligned}\end{split}\]</div>
<p>The kinetic energy of the system is then</p>
<div class="math notranslate nohighlight" id="equation-02">
<span class="eqno">(2)<a class="headerlink" href="#equation-02" title="Permalink to this equation">¶</a></span>\[T=\frac{1}{2}\left(m_1(\dot{x}_1^2+\dot{y}_1^2)+m_s(\dot{x}_2^2+\dot{y}_2^2)\right)\label{equ_dp_kinetic_energy}\]</div>
<p>with</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{aligned}
   \dot{x}_1^2&amp;=\dot{\varphi}_1^2l_1^2\cos^2(\varphi_1)\\
   \dot{y}_1^2&amp;=\dot{\varphi}_1^2l_1^2\sin^2(\varphi_1)\\
   \dot{x}_2^2&amp;=\dot{\varphi}_1^2l_1^2\cos^2(\varphi_1)+2\dot{\varphi}_1\dot{\varphi}_2l_1l_2\cos(\varphi_1)\cos(\varphi_2)+\dot{\varphi}_2^2l_2^2\cos^2(\varphi_2)\\
   \dot{y}_2^2&amp;=\dot{\varphi}_1^2l_1^2\sin^2(\varphi_1)+2\dot{\varphi}_1\dot{\varphi}_2l_1l_2\sin(\varphi_1)\sin(\varphi_2)+\dot{\varphi}_2^2l_2^2\sin^2(\varphi_2)
  \end{aligned}\end{split}\]</div>
<p>and thus</p>
<div class="math notranslate nohighlight" id="equation-03">
<span class="eqno">(3)<a class="headerlink" href="#equation-03" title="Permalink to this equation">¶</a></span>\[\begin{split}\begin{aligned}
   \dot{x}_1^2+\dot{y}_1^2&amp;=\dot{\varphi}_1^2l_1^2\cos^2(\varphi_1)+\varphi_1^2l_1^2\sin^2(\varphi_1)\nonumber\\
    &amp;=\dot{\varphi}_1^2l_1^2\left(\cos^2(\varphi_1)+\sin^2(\varphi_1)\right)\nonumber\\
    &amp;=\dot{\varphi}_1^2l_1^2\label{equ_dp_sp_1}\\
\end{aligned}\end{split}\]</div>
<div class="math notranslate nohighlight" id="equation-04">
<span class="eqno">(4)<a class="headerlink" href="#equation-04" title="Permalink to this equation">¶</a></span>\[\begin{split}\begin{aligned}
   \dot{x}_2^2+\dot{y}_2^2&amp;=\dot{\varphi}_1^2l_1^2\left(\cos^2(\varphi_1)+\sin^2(\varphi_1)\right)+\dot{\varphi}_2^2l_2^2\left(\cos^2(\varphi_2)+\sin^2(\varphi_2)\right)+\nonumber\\
    &amp;~~~~2\dot{\varphi}_1\dot{\varphi}_2l_1l_2\left(\cos(\varphi_1)\cos(\varphi_2)+\sin(\varphi_1)\sin(\varphi_2)\right)\nonumber\\
    &amp;=\dot{\varphi}_1^2l_1^2+\dot{\varphi}_2^2l_2^2+2\dot{\varphi}_1\dot{\varphi}_2l_1l_2\cos(\varphi_1-\varphi_2)\label{equ_dp_sp_2}
  \end{aligned}\end{split}\]</div>
<p>The Lagrangian <span class="math notranslate nohighlight">\(L\)</span> results from equations <strong>(1)</strong> and <strong>(2)</strong> with <strong>(3)</strong> and <strong>(4)</strong> as</p>
<div class="math notranslate nohighlight" id="equation-05">
<span class="eqno">(5)<a class="headerlink" href="#equation-05" title="Permalink to this equation">¶</a></span>\[\begin{split}\begin{aligned}
   L&amp;=\frac{1}{2}l_1^2\dot{\varphi}_1^2(m_1+m_2)+\frac{1}{2}m_2\dot{\varphi}_2^2l_2^2+m_2\dot{\varphi}_1\dot{\varphi}_2l_1l_2\cos(\varphi_1-\varphi_2)+\nonumber\nonumber\\
    &amp;~~~~g(m_1+m_2)l_1\cos(\varphi_1)+gm_2l_2\cos(\varphi_2).\label{equ_dp_lagrangian}
  \end{aligned}\end{split}\]</div>
<p>Now the Euler-Lagrange-equations</p>
<div class="math notranslate nohighlight" id="equation-06">
<span class="eqno">(6)<a class="headerlink" href="#equation-06" title="Permalink to this equation">¶</a></span>\[\begin{split}\begin{aligned}
   \frac{\text{d}}{\text{d}t}\frac{\partial L}{\partial\dot{\varphi}_1}-\frac{\partial L}{\partial\varphi_1}&amp;=0\label{equ_dp_eula_1}\\
\end{aligned}\end{split}\]</div>
<p>and</p>
<div class="math notranslate nohighlight" id="equation-07">
<span class="eqno">(7)<a class="headerlink" href="#equation-07" title="Permalink to this equation">¶</a></span>\[\begin{aligned}
   \frac{\text{d}}{\text{d}t}\frac{\partial L}{\partial\dot{\varphi}_2}-\frac{\partial L}{\partial\varphi_2}&amp;=0\label{equ_dp_eula_2}
  \end{aligned}\]</div>
<p>have to be solved. The required (partial) derivatives are</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{aligned}
   \frac{\partial L}{\partial\varphi_1}&amp;=-m_2\dot{\varphi}_1\dot{\varphi}_2l_1l_2\sin(\varphi_1-\varphi_2)-g(m_1+m_2)l_1\sin(\varphi_1)\\
   \frac{\partial L}{\partial\dot{\varphi}_1}&amp;=l_1^2\dot{\varphi}_1(m_1+m_2)+m_2\dot{\varphi}_2l_1l_2\cos(\varphi_1-\varphi_2)\\
   \frac{\text{d}}{\text{d}t}\frac{\partial L}{\partial\dot{\varphi}_1}&amp;=l_1^2\ddot{\varphi}_1(m_1+m_2)+m_2l_1l_2\left[\ddot{\varphi}_2\cos(\varphi_1-\varphi_2)-\dot{\varphi}_2\sin(\varphi_1-\varphi_2)(\dot{\varphi}_1-\dot{\varphi}_2)\right]\\
   \frac{\partial L}{\partial\varphi_2}&amp;=m_2\dot{\varphi}_1\dot{\varphi}_2l_1l_2\sin(\varphi_1-\varphi_2)-gm_2l_2\sin(\varphi_2)\\
   \frac{\partial L}{\partial\dot{\varphi}_2}&amp;=m_2\dot{\varphi}_2l_2^2+m_2\dot{\varphi}_1l_1l_2\cos(\varphi_1-\varphi_2)\\
   \frac{\text{d}}{\text{d}t}\frac{\partial L}{\partial\dot{\varphi}_2}&amp;=m_2\ddot{\varphi}_2l_2^2+m_2l_1l_2\left[\ddot{\varphi}_1\cos(\varphi_1-\varphi_2)-\dot{\varphi}_1\sin(\varphi_1-\varphi_2)(\dot{\varphi}_1-\dot{\varphi}_2)\right].
  \end{aligned}\end{split}\]</div>
<p>based on <strong>(5)</strong>. Substituting
these into <strong>(6)</strong> yields</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{aligned}
   0&amp;=l_1^2\ddot{\varphi}_1(m_1+m_2)-m_2l_1l_2\ddot{\varphi}_2\cos(\varphi_1-\varphi_2)-m_2l_1l_2\dot{\varphi}_2\sin(\varphi_1-\varphi_2)(\dot{\varphi}_1-\dot{\varphi}_2)+\\
    &amp;~~~~m_2\dot{\varphi}_1\dot{\varphi}_2l_1l_2\sin(\varphi_1-\varphi_2)+gl_1(m_1+m_2)\sin(\varphi_1).
  \end{aligned}\end{split}\]</div>
<p>Expanding <span class="math notranslate nohighlight">\((\dot{\varphi}_1-\dot{\varphi}_2)\)</span> yields</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{aligned}
   0&amp;=l_1^2\ddot{\varphi}_1(m_1+m_2)+m_2l_1l_2\ddot{\varphi}_2\cos(\varphi_1-\varphi_2)+\\
    &amp;~~~~m_2l_1l_2\dot{\varphi}_2^2\sin(\varphi_1-\varphi_2)+gl_1(m_1+m_2)\sin(\varphi_1).
  \end{aligned}\end{split}\]</div>
<p>Dividing by <span class="math notranslate nohighlight">\(l_1^2(m_1+m_2)\)</span> results in</p>
<div class="math notranslate nohighlight">
\[0=\ddot{\varphi}_1+\frac{m_2}{m_1+m_2}\frac{l_2}{l_1}\ddot{\varphi}_2\cos(\varphi_1-\varphi_2)+\frac{m_2}{m_1+m_2}\frac{l_2}{l_1}\dot{\varphi}_2^2\sin(\varphi_1-\varphi_2)+\frac{g}{l_1}\sin(\varphi_1)\]</div>
<p>which can be further simplified as</p>
<div class="math notranslate nohighlight" id="equation-08">
<span class="eqno">(8)<a class="headerlink" href="#equation-08" title="Permalink to this equation">¶</a></span>\[0=\ddot{\varphi}_1+\frac{m_2}{m_1+m_2}\frac{l_2}{l_1}\left[\ddot{\varphi}_2\cos(\varphi_1-\varphi_2)+\dot{\varphi}_2^2\sin(\varphi_1-\varphi_2)\right]+\frac{g}{l_1}\sin(\varphi_1).\label{equ_dp_motion_1}\]</div>
<p>Proceeding analogously, <strong>(7)</strong> yields</p>
<div class="math notranslate nohighlight" id="equation-09">
<span class="eqno">(9)<a class="headerlink" href="#equation-09" title="Permalink to this equation">¶</a></span>\[0=\ddot{\varphi}_2+\frac{l_1}{l_2}\left[\ddot{\varphi}_1\cos(\varphi_1-\varphi_2)-\dot{\varphi}_1^2\sin(\varphi_1-\varphi_2)\right]+\frac{g}{l_2}\sin(\varphi_2)\label{equ_dp_motion_2}\]</div>
<p>after some rearrangements.</p>
<p>To simplify things further it will be assumed that <span class="math notranslate nohighlight">\(m_1=m_2=1\)</span> and <span class="math notranslate nohighlight">\(l_1=l_2=1\)</span>
in arbitrary units yielding the following two equations of motion of the double pendulum based on
<strong>(8)</strong> and
<strong>(9)</strong>:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{aligned}
   \ddot{\varphi}_1&amp;=-\frac{1}{2}\left[\ddot{\varphi}_2\cos(\varphi_1-\varphi_2)+\dot{\varphi}_2^2\sin(\varphi_1-\varphi_2)+2g\sin(\varphi_1)\right]\label{equ_dp_motion_1_final}\\
   \ddot{\varphi}_2&amp;=-\left[\ddot{\varphi_1}\cos(\varphi_1-\varphi_2)-\dot{\varphi}_1^2\sin(\varphi_1-\varphi_2)+g\sin(\varphi_2)\right]\label{equ_dp_motion_2_final}
  \end{aligned}\end{split}\]</div>


<h2 id="implementation"><a class="toc-backref" href="#id5">Implementation</a><a class="headerlink" href="#implementation" title="Permalink to this headline">¶</a></h2>
<p>The implementation of equations
<strong>(10)</strong> and <strong>(11)</strong> is straightforward as shown in figures 2 and 3. Both circuits require
the functions <span class="math notranslate nohighlight">\(\sin(\varphi_1-\varphi_2)\)</span>,
<span class="math notranslate nohighlight">\(\cos(\varphi_1-\varphi_2)\)</span>, <span class="math notranslate nohighlight">\(\sin(\varphi_1)\)</span>, and
<span class="math notranslate nohighlight">\(\sin(\varphi_2)\)</span>, which are generated by three distinct
sub-circuits such as the one shown in figure 4. These circuits yield
sine and cosine of an angle based on the first time-derivative of this
angle, so the simulation is not limited to a finite range for the two
angles <span class="math notranslate nohighlight">\(\varphi_1\)</span> and <span class="math notranslate nohighlight">\(\varphi_2\)</span>.</p>
<p>It should be noted that each of the two integrators of each of these
three harmonic function generators has a potentiometer connected to its
respective initial value input. When a simulation run with given initial
values for <span class="math notranslate nohighlight">\(\varphi_1(0)\)</span> and <span class="math notranslate nohighlight">\(\varphi_2(0)\)</span> is to be
started, these potentiometers have to be set to
<span class="math notranslate nohighlight">\(\cos(\varphi_1(0))\)</span>, <span class="math notranslate nohighlight">\(\sin(\varphi_1(0))\)</span> and
<span class="math notranslate nohighlight">\(\cos(\varphi_2(0))\)</span>, <span class="math notranslate nohighlight">\(\sin(\varphi_2(0))\)</span>, respectively.</p>
<table>
<colgroup>
<col style="width: 50%"/>
<col style="width: 50%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><div class="figure align-left">
<a class="reference internal image-reference" href="../../../_images/circuit01.jpg"><img alt="../../../_images/circuit01.jpg" src="../../../_images/circuit01.jpg" style="width: 400px;"/></a>
</div>
</td>
<td><div class="figure align-right">
<a class="reference internal image-reference" href="../../../_images/circuit02.jpg"><img alt="../../../_images/circuit02.jpg" src="../../../_images/circuit02.jpg" style="width: 400px;"/></a>
</div>
</td>
</tr>
<tr class="row-even"><td><p>Figure 2: Implementation of equation <strong>(10)</strong></p></td>
<td><p>Figure 3: Implementation of equation <strong>(11)</strong></p></td>
</tr>
</tbody>
</table>
<p>Since <span class="math notranslate nohighlight">\(\dot{\varphi}_1\)</span> and <span class="math notranslate nohighlight">\(\dot{\varphi}_2\)</span> are readily
available from the circuits shown in figures 2 and 3, two of these harmonic
function generators can be directly fed with these values. The input for
the third function generator is generated by a two-input summer as shown in figure 5.</p>
<table>
<colgroup>
<col style="width: 50%"/>
<col style="width: 50%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><div class="figure align-left">
<a class="reference internal image-reference" href="../../../_images/circuit03.jpg"><img alt="../../../_images/circuit03.jpg" src="../../../_images/circuit03.jpg" style="width: 400px;"/></a>
</div>
</td>
<td><div class="figure align-left">
<a class="reference internal image-reference" href="../../../_images/circuit04.png"><img alt="../../../_images/circuit04.png" src="../../../_images/circuit04.png" style="width: 400px;"/></a>
</div>
</td>
</tr>
<tr class="row-even"><td><p>Figure 4: Generating sin(<span class="math notranslate nohighlight">\(\varphi\)</span>) and cos(<span class="math notranslate nohighlight">\(\varphi\)</span>)</p></td>
<td><p>Figure 5: Computing <span class="math notranslate nohighlight">\({\dot{\varphi}_1}\)</span> - <span class="math notranslate nohighlight">\({\dot{\varphi}_2}\)</span></p></td>
</tr>
</tbody>
</table>
<p>With <span class="math notranslate nohighlight">\(\dot{\varphi}_1\)</span> and <span class="math notranslate nohighlight">\(\dot{\varphi}_2\)</span> and thus
<span class="math notranslate nohighlight">\(\sin(\varphi_1)\)</span>, <span class="math notranslate nohighlight">\(\cos(\varphi_1)\)</span>, and
<span class="math notranslate nohighlight">\(\sin(\varphi_2)\)</span>, <span class="math notranslate nohighlight">\(\cos(\varphi_2)\)</span> readily available, the
double pendulum can be displayed on an oscilloscope featuring two
separate <span class="math notranslate nohighlight">\(x,y\)</span>-inputs by means of the circuit shown in figure 6. To yield a flicker-free display,
this circuit requires a high-frequency input <span class="math notranslate nohighlight">\(\sin(\omega t)\)</span>
which can be obtained by two integrators in series with a summer, the
output of which is fed back into the first integrators. This circuit is
not shown here but can be found in [<em>ULMANN</em> 2017, p.67].</p>


<h2 id="results"><a class="toc-backref" href="#id6">Results</a><a class="headerlink" href="#results" title="Permalink to this headline">¶</a></h2>
<p>Figure 7 shows a long-term exposure
of the movements of the double pendulum starting as an inverted pendulum
with its first pendulum rod pointing upwards while the second one points
downwards.</p>
<table>
<colgroup>
<col style="width: 100%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><div class="figure align-left">
<a class="reference internal image-reference" href="../../../_images/double_pendulum_long_exposure.jpg"><img alt="../../../_images/double_pendulum_long_exposure.jpg" src="../../../_images/double_pendulum_long_exposure.jpg" style="width: 400px;"/></a>
</div>
</td>
</tr>
<tr class="row-even"><td><p>Figure 7: Long-term exposure of a double pendulum simulation run</p></td>
</tr>
</tbody>
</table>
<p>This simulation requires ten integrators, 15 summers, 16 multipliers,
and 17 coefficient potentiometers.</p>


<h2 id="references"><a class="toc-backref" href="#id7">References</a><a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<p>[MAHRENHOLTZ, 1968] Oskar Mahrenholtz, <em>Analogrechnen in Maschinenbau und Mechanik</em>, BI
Hochschultaschenbücher, 1968</p>
<p>[Ulmann 2017] Bernd Ulmann, <em>Analog Computer
Programming</em>, Create Space, 2017</p>
<dl class="footnote brackets">
<dt class="label" id="id2"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>This has also been done by
[MAHRENHOLTZ, 1968, pp. 159–165] which served as an
inspiration for this application note, especially the display
circuit.</p>
</dd>
</dl>




          </article>
        </div>
      </div>
    </main>
  </div>
  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="../euler_spiral/alpaca_33.html" title="The Euler spiral"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> The Euler spiral </span>
              </div>
            </a>
          
          
            <a href="../../history_first_electronic_analog_computers.html" title="Early electronic analog computers:"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> Early electronic analog computers: </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          <div class="md-footer-copyright__highlight">
              &#169; Copyright 2021, Anabrid.
              
          </div>
            Created using
            <a href="http://www.sphinx-doc.org/">Sphinx</a> 4.4.0.
             and
            <a href="https://github.com/bashtage/sphinx-material/">Material for
              Sphinx</a>
        </div>
      </div>
    </div>
  </footer>
  <script src="../../../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
  </body>
</html>